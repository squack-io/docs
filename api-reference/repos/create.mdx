---
title: 'Create Repo'
api: 'POST https://api.relace.run/v1/repo'
description: 'Create a new repo from files or a GitHub repo.'
---

## Request Body

<ParamField body="source" type="object">
  Optional object to initialize the repo from existing source

  <Expandable title="properties" defaultOpen={false}>

{' '}

<ParamField body="type" type="string" required>
  The source type: `"files"` for direct file upload or `"git"` for Git repo
</ParamField>

{' '}

<Tabs>
  <Tab title="From Files">
    <ParamField body="files" type="array" required>
      Array of file objects to include in the repo
      <Expandable title="properties" defaultOpen={false}>
        <ParamField body="filename" type="string" required>
          The path and filename for the file
        </ParamField>

        <ParamField body="content" type="string" required>
          The content of the file
        </ParamField>
      </Expandable>
    </ParamField>

  </Tab>

  <Tab title="From Git Repo">
    <ParamField body="url" type="string" required>
      Git repo URL to clone from
    </ParamField>

    <ParamField body="branch" type="string">
      Specific branch to clone (optional)
    </ParamField>

  </Tab>
</Tabs>

  </Expandable>
</ParamField>

<ParamField body="metadata" type="object">
  Optional object containing any key-value pairs for custom metadata about the
  repo
</ParamField>

## Response

<ResponseField name="repo_id" type="string">
  Unique identifier for the newly created repo
</ResponseField>

<ResponseField name="repo_head" type="string">
  Commit hash for the current repo head
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST https://api.relace.run/v1/repo \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
    -d '{
    "source": {
      "type": "files",
      "files": [
        {
          "filename": "src/search.ts",
          "content": "function findItem(array: Item[], targetId: string): Item | undefined {\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    if (item.id === targetId) {\n      return item;\n    }\n  }\n  return undefined;\n}"
        },
        {
          "filename": "src/types.ts",
          "content": "interface Item {\n  id: string;\n  value: string;\n  metadata?: Record<string, unknown>;\n}"
        }
        # ... more files
      ]
    },
    "metadata": {
      "name": "my-codebase",
      "id": "my-internal-id"
    }
  }'
```

```python Python
import requests

url = "https://api.relace.run/v1/repo"
headers = {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
}

data = {
    "source": {
        "type": "files",
        "files": [
            {
                "filename": "src/search.ts",
                "content": "function findItem(array: Item[], targetId: string): Item | undefined {\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    if (item.id === targetId) {\n      return item;\n    }\n  }\n  return undefined;\n}"
            },
            {
                "filename": "src/types.ts",
                "content": "interface Item {\n  id: string;\n  value: string;\n  metadata?: Record<string, unknown>;\n}"
            }
            # ... more files
        ]
    },
    "metadata": {
        "name": "my-codebase",
        "id": "my-internal-id"
    }
}

response = requests.post(url, headers=headers, json=data)
print(response.json())
```

```ts TypeScript SDK
import createRelaceClient from '@relace-ai/agent-client'

const client = createRelaceClient({ apiKey: process.env.RELACE_API_KEY! })

const { data, error } = await client.POST('/repo', {
  body: {
    source: {
      type: 'files',
      files: [
        { filename: 'src/search.ts', content: '// ...' },
        { filename: 'src/types.ts', content: '// ...' },
      ],
    },
    metadata: { name: 'my-codebase', id: 'my-internal-id' },
  },
})
if (error) throw error
console.log(data)
```

```python Python SDK
from relace_agent_client import AuthenticatedClient
from relace_agent_client.api.default import create_repo_repo_post
from relace_agent_client.models import RepoCreateRequest, RepoCreateFilesSource, File as ModelFile

client = AuthenticatedClient(base_url="https://api.relace.run/v1", token="YOUR_API_KEY")
files = [
    ModelFile(filename="src/search.ts", content="// ..."),
    ModelFile(filename="src/types.ts", content="// ..."),
]
req = RepoCreateRequest(source=RepoCreateFilesSource(type_="files", files=files))
with client as c:
    created = create_repo_repo_post.sync(client=c, body=req)
print(created)
```

</RequestExample>

<ResponseExample>

```json Response
{
  "repo_id": "123e4567-e89b-12d3-a456-426614174000",
  "repo_head": "a1b2c3d4e5f6789012345678901234567890abcdef"
}
```

</ResponseExample>
