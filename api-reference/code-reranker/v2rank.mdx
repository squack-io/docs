---
title: 'v2 Rank Code'
openapi: 'POST /v2/code/rank'
---

The v2 Code Ranker is an enhanced version of our code ranking API that provides detailed relevance scores for each file in your codebase. This endpoint helps you identify which files are most relevant to a specific query or task.

## Features

- **Numerical Relevance Scores**: Each file receives a score between 0 and 1 indicating its relevance to the query
- **Detailed Ranking**: Results include both filenames and their corresponding relevance scores
- **Token Management**: Control the maximum number of tokens processed with the token_limit parameter

## Example Response

```json
{
  "results": [
    {
      "filename": "src/search.ts",
      "score": 0.953125
    },
    {
      "filename": "src/utils.ts",
      "score": 0.234375
    }
  ],
  "numTokens": 261
}
```

## Use Cases

- **Code Search**: Find the most relevant files for a specific feature or bug
- **Documentation**: Identify files that need documentation updates
- **Code Review**: Prioritize files for review based on relevance to changes
- **Refactoring**: Locate files that might be affected by a refactoring task

## Best Practices

1. Keep queries specific and focused
2. Include relevant context in your codebase array
3. Monitor token usage with the numTokens response field
4. Use the scores to prioritize your work on the most relevant files
